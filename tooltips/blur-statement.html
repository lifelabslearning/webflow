<!DOCTYPE html>
<html>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    href="https://fonts.googleapis.com/css?family=Raleway"
    rel="stylesheet"
  />
  <style>
    * {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans",
        "Helvetica Neue", sans-serif;
    }
    .center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    /* Main Styles */
    .quote {
      min-height: 200px;
      font-size: clamp(0.5rem, 0.5rem + 2vw, 1rem);
      line-height: 1.5;
      padding: 5em;
      padding-top: 3.90625em;
      display: flex;
      flex-wrap: wrap;
      align-content: center;
      gap: 1em;
      isolation: isolate;
      border-radius: 0.5rem;
      border: 1px solid;
    }
    .quote-label,
    .deblur-quote-label {
      margin: 0px;
    }
    .deblur-quote-label,
    .deblur-visible {
      display: none;
    }

    /* Quote Body Styles */
    .quote > * {
      width: 100%;
    }
    .quote > .quote-body {
      font-size: 1.3em;
      margin: 0;
    }

    /* Tooltip Styles */
    .tooltip {
      white-space: nowrap;
      padding: 0.15rem 0.25rem;
      margin: -0.15rem -0.25rem;
      background-color: #b91c1c;
      background-color: #fee2e2;
      color: #7f1d1d;
      cursor: pointer;
      transition: background-color 0.2s ease-out;
      border-radius: 0.25rem;
    }
    .tooltip:is(:hover, :focus, :focus-within) {
      color: #fff;
      background-color: #7f1d1d;
    }
    .tooltip:is(:hover, :focus, :focus-within) > .quote-body {
      visibility: visible;
      opacity: 1;
    }
    .tooltip > .quote-body {
      white-space: normal;
      width: min(40vw, 400px);
      visibility: hidden;
      opacity: 0;
      font-size: 0.7em;
      position: absolute;

      transition: all 0.2s ease-out;
      z-index: 2;
    }

    .tooltip > .quote-body .container {
      display: block;
      max-height: 50vh;
      overflow: auto;
    }
    .tooltip > .quote-body .container > * {
      display: block;
      padding: 0.5em 1em;
    }

    .tooltip > .quote-body .text {
      color: #fff;
      background-color: #000;
      padding: 0.75em 1em;
      border-radius: 0.5rem;
    }

    button.blur-button {
      display: inline-block;
      margin-right: 0px;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      background-color: #000;
      color: #fff;
      font-size: 1rem;
      text-align: center;
      border: none;
      cursor: pointer;
    }

    button.blur-button:hover {
      opacity: 0.9;
    }

    p.blur-visible {
      display: none;
    }

    p.instructions {
      color: #7f1d1d;
      display: none;
      font-size: 1rem;
      margin: 0.55rem 0;
    }

    .bounce {
      position: absolute;
      animation: bounce 3s infinite;
    }
    @keyframes bounce {
      0% {
        transform: scale(1, 1) translateY(0);
      }
      10% {
        transform: scale(1.1, 0.9) translateY(0);
      }
      30% {
        transform: scale(0.9, 1.1) translateY(-10px);
      }
      50% {
        transform: scale(1.05, 0.95) translateY(0);
      }
      57% {
        transform: scale(1, 1) translateY(0px);
      }
      64% {
        transform: scale(1, 1) translateY(0);
      }
      100% {
        transform: scale(1, 1) translateY(0);
      }
    }

    .deblur-quote-label {
      margin-top: 2rem;
    }

    .deblur-visible .tooltip {
      color: #064e3b;
      background-color: #d1fae5;
      pointer-events: none;
    }

    .deblur-visible .tooltip.start {
      border-top-right-radius: 0px;
      border-bottom-right-radius: 0px;
    }

    .deblur-visible .tooltip.middle {
      border-radius: 0px;
    }

    .deblur-visible .tooltip.end {
      border-top-left-radius: 0px;
      border-bottom-left-radius: 0px;
    }

    /* Media Queries */
    @media (hover: none) and (pointer: coarse) {
      .tooltip > .quote-body::before {
        content: "Click/tap anywhere outside to disappear";
        font-size: 0.5em;
        line-height: 1;
        text-align: center;
        display: block;
        padding: 1em;
      }
    }
    @media (min-width: 400px) {
      .tooltip {
        position: relative;
      }
      .tooltip > .quote-body {
        top: calc(100% + 0.5rem);
        left: calc(50% + min(50vw, 300px) / -2);
        width: min(50vw, 300px);
        transform: unset;
        max-height: 200px;
      }
      .tooltip > .quote-body::before {
        content: "";
        width: 0;
        height: 0;
        border-top: 0.5em solid #000;
        border-right: 0.5em solid transparent;
        border-bottom: none;
        border-left: 0.5em solid transparent;
        position: absolute;
        top: -6px;
        right: initial;
        left: 50%;
        transform: rotate(180deg);
      }
      .tooltip > .quote-body > .container {
        max-height: 350px;
        font-size: 0.9rem;
      }
      .tooltip:is(:hover, :focus, :focus-within) > .quote-body {
        bottom: calc(100% + 0.75em);
      }
    }
  </style>
  <body>
    <div id="quote-1" class="quote">
      <p class="quote-label">Blurry feedback</p>
      <p class="blur-hidden quote-body" aria-label="Quote text">
        "Your messages are confusing.&nbsp;&nbsp;I'd prefer if you'd be more
        direct."
      </p>
      <p class="blur-visible quote-body" aria-label="Quote text">
        <span
          class="tooltip"
          tabindex="0"
          aria-label="Text or word with tooltip"
          >"Your messages<span class="quote-body">
            <span class="container"
              ><span class="text" aria-label="Text or word description"
                >Which message? All messages? A particular topic? The lack of
                specificity means the recipient not only doesn't know where the
                problem is, they are also likely to get defensive. <br /><br />
                <b>To Deblur:</b> "Your messages" &#8594; "Your email updates on
                Project X"
              </span></span
            ></span
          ></span
        >&nbsp;are
        <span
          class="tooltip"
          tabindex="0"
          aria-label="Text or word with tooltip"
          >confusing.<span class="quote-body"
            ><span class="container"
              ><span class="text" aria-label="Text or word description"
                >What is confusing about them? Are they too short/long?
                Formatted in a way that's hard to read? Delivered to the wrong
                people?<br />
                <br /><b>To Deblur:</b> Being clear here will make it more
                likely the other person will make a fix that solves the issue.
                "confusing" &#8594; "do not have a clear next step."</span
              ></span
            ></span
          ></span
        >&nbsp;&nbsp;I'd prefer if you'd be more
        <span
          class="tooltip"
          tabindex="0"
          aria-label="Text or word with tooltip"
          >direct."<span class="quote-body"
            ><span class="container"
              ><span class="text" aria-label="Text or word description"
                >Concepts like "direct" and "indirect" are subjective person to
                person and culture to culture.<br /><br />
                <b>To Deblur:</b> If there's something specific you'd like to
                see, name it. "more direct" &#8594; "you'd include the action
                and the person you'd like to own the next step."</span
              ></span
            ></span
          ></span
        >
      </p>
      <div>
        <button
          type="button"
          class="blur-button button w-button"
          aria-label="Show blur words"
          onclick="showBlurWords('quote-1')"
        >
          Deblur this feedback
        </button>
        <p id="instructions-1" class="instructions">
          Select a blur word to learn more
          <span style="margin-left: 0.5rem" class="bounce">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              style="height: 1.2rem"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"
              />
            </svg>
          </span>
        </p>
      </div>
      <p class="deblur-quote-label">Deblurred feedback</p>
      <p class="deblur-visible quote-body" aria-label="Quote text">
        <span class="tooltip start">"Your email updates on Project X</span>
        <span class="tooltip end">do not have clear next steps.</span
        >&nbsp;&nbsp;I'd prefer if you'd&nbsp;
        <span class="tooltip start">include the action</span>
        <span class="tooltip middle">&nbsp;and the person</span>
        <span class="tooltip middle">&nbsp;you'd like to</span>
        <span class="tooltip end">&nbsp;you'd like to own the next step."</span>
      </p>
    </div>

    <script>
      const hideInstructions = (id) => {
        document.getElementById(id).style.visibility = "hidden";
      };
      const showBlurWords = (id) => {
        const quote = document.getElementById(id);
        const tooltips = quote.getElementsByClassName("tooltip");
        const instructions_id =
          quote.getElementsByClassName("instructions")[0].id;

        for (let i = 0; i < tooltips.length; i++) {
          tooltips[i].addEventListener(
            "click",
            () => {
              hideInstructions(instructions_id);
            },
            false
          );
          tooltips[i].addEventListener(
            "mouseover",
            () => {
              hideInstructions(instructions_id);
            },
            false
          );
          tooltips[i].addEventListener(
            "focus",
            () => {
              hideInstructions(instructions_id);
            },
            false
          );
        }
        quote.getElementsByClassName("blur-visible")[0].style.display = "block";
        quote.getElementsByClassName("deblur-quote-label")[0].style.display =
          "block";
        quote.getElementsByClassName("deblur-visible")[0].style.display =
          "block";
        quote.getElementsByClassName("instructions")[0].style.display = "block";
        quote.getElementsByClassName("blur-button")[0].style.display = "none";
        quote.getElementsByClassName("blur-hidden")[0].style.display = "none";
      };
    </script>
  </body>
</html>
